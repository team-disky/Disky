<%= render partial: "layouts/manager_header" %>

<%#<%= search_form_for @q do |f| %>
    <%#<%= f.label :name_cont, '名称' %>
    <%#<%= f.search_field :name_cont %>
    <%#<%= f.submit %>
<%#<% end %>

<div class="container">
 <div class="row">
  <div class="col-md-4">
   <h3>新しいアーティストを登録</h3>

   <!-- エラーメッセージ　-->
   <br>
  <% if @artist.errors.any? %>
   <div id="error_explanation">
   <h4>入力した内容に誤りがあります</h4>
   <h5>
      <% @artist.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
   </h5>
   </div>
  <% end %>

   <%= form_for(@artist, url: manager_artists_path) do |f| %>

   <div class="field">
    <label for="artist_name"></label>
    <%= f.text_field :name, :placeholder => "アーティスト" %>
   </div>

   <div class="actions">
    <%= f.submit '登録', :class=>"artist-registration-btn btn-lg" %>
   <% end %>
   </div>
  </div>

  <div class="col-md-6">
   <h3>登録アーティスト一覧</h3>
   <table class="table table-hover table-inverse">
   <thead>
 	 <tr>
 	 <th>アーティスト名</th>
   <th colspan="3"></th>
 	 </tr>
   </thead>
   <tbody>
   <% @artists.each do |artist| %>
 	 <tr>
 	 	<td><%= artist.name %></td>
 		<td><%= link_to "編集", edit_manager_artist_path(artist.id) %></td>
    <td><%= link_to "削除", manager_artist_path(artist.id), method: :delete, data: { confirm: "「#{artist.name}」を削除します"} %></td>
 	 </tr>
   <% end %>
   </tbody>
   </table>
   <%= paginate @artists, :class=>"pagination" %>
  </div>
 </div>
</div>
